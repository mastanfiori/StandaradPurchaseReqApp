/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/core/util/MockServer"],function(M){"use strict";var m,_="ui/ssuite/s2p/mm/pur/pr/prcss/s1/",a=_+"localService/vyper_localService/mockdata";return{init:function(){var c=0;var b=0;var g=function(F){var l=null;$.ajax({async:false,global:false,url:"../localService/vyper_localService/mockdata/"+F,dataType:"json",success:function(n){l=n;}});return l;};var u=jQuery.sap.getUriParameters(),j=jQuery.sap.getModulePath(a),s=jQuery.sap.getModulePath(_+"manifest",".json"),e="C_Purchasereqitmdtlsext",E=u.get("errorType"),i=E==="badRequest"?400:500,o=jQuery.sap.syncGetJSON(s).data,d=o["sap.app"].dataSources,f=d.mainService,h=jQuery.sap.getModulePath(_+f.settings.localUri.replace(".xml",""),".xml"),k=/.*\/$/.test(f.uri)?f.uri:f.uri+"/",A=f.settings.annotations;m=new M({rootUri:k});M.config({autoRespond:true,});m.simulate(h,{sMockdataBaseUrl:j,bGenerateMissingMockData:true});var r=m.getRequests(),R=function(l,n,p){p.response=function(x){x.respond(l,{"Content-Type":"text/plain;charset=utf-8"},n);};};r.push({method:"GET",path:/.*C_RFQDraftForManagePurReqn.*/,response:function(x){if(b===0){var l=g("C_RFQDraftForManagePurReqn.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;b++;}else{var l=g("C_RFQDraftForManagePurReqn2.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}}});r.push({method:"GET",path:/.*C_RFQDraftForManagePurReqn.*RFQDraftUUID=guid'42f2e9af-c3df-1ed9-b491-621f09d3735f'.*to_RFQItemDraftForManagePurReqn.*to_RFQBidderDraftForMngPurReqn.*/,response:function(x){var l=g("C_RFQItemDraftForManagePurReqn1.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}});r.push({method:"GET",path:/.*SourceOfSupplySet.*/,response:function(x){var l=g("SourceOfSupplySet.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}});r.push({method:"GET",path:/.*VendorSet.*Supplier='16411610'.*/,response:function(x){var l=g("VendorSet.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}});r.push({method:"GET",path:/.*C_RfqBidderVH.*/,response:function(x){var l=g("C_RfqBidderVH.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}});r.push({method:"MERGE",path:/.*C_PurContrDrftForMngPurReqn.*/,response:function(x,U){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"06/017","message":"Standard PO created under the number 4500001644","severity":"success","target":"","transition":false,"details":[]}'},JSON.stringify(l));return l;}});r.push({method:"MERGE",path:/.*C_RFQDraftForManagePurReqn.*/,response:function(x,U){x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"98BE94F7BF511EE9B4DF/001","message":"Delivery date is in the past","severity":"warning","target":"","transition":false,"details":[{"code":"98BE94F7BF511EE9B4DF/001","message":"Please enter deliv. date later than deadline for subm. of bids","target":"","severity":"error","transition":false}]}'});}});r.push({method:"POST",path:/.*CreatePurchaseOrder.*/,response:function(x){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"06/017","message":"Standard PO created under the number 4500001644","severity":"success","target":"","transition":false,"details":[]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*CreateContract.*/,response:function(x){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"ContractId/101","message":"4600003739","severity":"success","target":"","transition":false,"details":[]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*CreateDrafts.*Purchaserequisition='10000005'.*Followondocumenttype='PO'.*/,response:function(x){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"ECEBB8895A651ED982A1/001","message":"Doc. type/item cat. NB/U (requisition) <-> NB/ (purch. order)","severity":"error","target":"","transition":false,"details":[{"code":"ECEBB8895A651ED982A1/001","message":"PO header data still faulty","target":"","severity":"error","transition":false},{"code":"ECEBB8895A651ED982A1/001","message":"Supplier 16411610 has not been created for purchasing organization 5810","target":"","severity":"error","transition":false},{"code":"ECEBB8895A651ED982A1/001","message":"Customer  does not exist (please change entry in plant 5810)","target":"","severity":"error","transition":false}]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*CreateDrafts.*Purchaserequisition='10000003'.*Followondocumenttype='CONTR'.*/,response:function(x){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"CtrDraftRootGuid/101","message":"98BE94F7BF511ED982A364E30B4221D3","severity":"success","target":"","transition":false,"details":[{"code":"CtrDraftRootGuid/101","message":"98BE94F7BF511ED982A364E30B41E1D3","target":"","severity":"success","transition":false}]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*CreateDrafts.*Purchaserequisition='10000003'.*Followondocumenttype='RFQ'.*/,response:function(x){var l=g("DraftsPRCollection.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"DraftId/101","message":"42F2E9AFC3DF1ED9B491621F09D3735F","severity":"success","target":"","transition":false,"details":[]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*AddRFQBidders.*/,response:function(x){var l=g("DraftRFQBidderSet.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"DraftId/101","message":"42F2E9AFC3DF1ED9B491621F09D3735F","severity":"success","target":"","transition":false,"details":[]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*ActivateRFQ.*/,response:function(x){var l=g("DraftRFQHeaderSet.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"8CDCD40087E81EE9B4F4/001","message":"Bidder 1 does not exist for purchasing organization .","severity":"error","target":"","details":[{"code":"8CDCD40087E81EE9B4F4/001","message":"Purchasing organization  does not exist","target":"","severity":"error"},{"code":"8CDCD40087E81EE9B4F4/001","message":"Enter a company code","target":"","severity":"error"},{"code":"8CDCD40087E81EE9B4F4/001","message":"Please enter deliv. date later than deadline for subm. of bids","target":"","severity":"error"},{"code":"8CDCD40087E81EE9B4F4/001","message":"Delivery date is in the past","target":"","severity":"warning"}]}'},JSON.stringify(l));return l;}});r.push({method:"POST",path:/.*ActivateRFQ.*IsPublish='X'.*/,response:function(x){var l=g("DraftRFQHeaderSet.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8","sap-message":'{"code":"APPL_MM_PR/001","message":"RFQ 7000012032 published and sent","severity":"success","target":"","details":[{"code":"RFQId/101","message":"7000012032","target":"","severity":"success"}]}'},JSON.stringify(l));return l;}});r.push({method:"GET",path:/.*C_RFQDraftForManagePurReqn.*to_RFQItemDraftForManagePurReqn.*/,response:function(x){if(c===0){var l=g("C_RFQItemDraftForManagePurReqn.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;c++;}else{var l=g("C_RFQDraftForManagePurReqn1.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}}});r.push({method:"GET",path:/.*C_MM_SupplierValueHelp.*/,response:function(x){var l=g("C_MM_SupplierValueHelp.json");x.respond(200,{"Content-Type":"application/json;charset=utf-8"},JSON.stringify(l));return l;}});if(u.get("metadataError")){r.forEach(function(l){if(l.path.toString().indexOf("$metadata")>-1){R(500,"metadata Error",l);}});}if(E){r.forEach(function(l){if(l.path.toString().indexOf(e)>-1){R(i,E,l);}});}m.setRequests(r);m.start();jQuery.sap.log.info("Running the app with mock data");if(A){A.forEach(function(l){var n=d[l],U=n.uri,L=jQuery.sap.getModulePath(_+n.settings.localUri.replace(".xml",""),".xml");new M({rootUri:U,requests:[{method:"GET",path:new RegExp(".*"),response:function(x){jQuery.sap.require("jquery.sap.xml");var p=jQuery.sap.sjax({url:L,dataType:"xml"}).data;x.respondXML(200,{},jQuery.sap.serializeXML(p));return true;}}]}).start();});}},getMockServer:function(){return m;}};});
